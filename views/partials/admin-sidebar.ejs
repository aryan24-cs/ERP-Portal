<div class="sidebar">
  <div class="px-4 py-6">
    <h2 class="text-2xl font-bold text-flow mb-6">ERP Admin Portal</h2>
    <div class="sidebar-nav">
      <a
        href="/admin?token=<%= token %>"
        class="<%= currentPage && currentPage.toLowerCase() === 'admin' ? 'active' : '' %>"
        data-page="admin"
        aria-current="<%= currentPage && currentPage.toLowerCase() === 'admin' ? 'page' : 'false' %>"
      >
        <i class="fas fa-cogs"></i> Dashboard
      </a>
      <a
        href="/admin/college?token=<%= token %>"
        class="<%= currentPage && currentPage.toLowerCase() === 'college' ? 'active' : '' %>"
        data-page="college"
        aria-current="<%= currentPage && currentPage.toLowerCase() === 'college' ? 'page' : 'false' %>"
      >
        <i class="fas fa-university"></i> College Structure
      </a>
      <a
        href="/admin/create-user?token=<%= token %>"
        class="<%= currentPage && currentPage.toLowerCase() === 'create-user' ? 'active' : '' %>"
        data-page="create-user"
        aria-current="<%= currentPage && currentPage.toLowerCase() === 'create-user' ? 'page' : 'false' %>"
      >
        <i class="fas fa-user-plus"></i> Create User
      </a>
      <a
        href="/admin/make-attendance?token=<%= token %>"
        class="<%= currentPage && currentPage.toLowerCase() === 'make-attendance' ? 'active' : '' %>"
        data-page="make-attendance"
        aria-current="<%= currentPage && currentPage.toLowerCase() === 'make-attendance' ? 'page' : 'false' %>"
      >
        <i class="fas fa-calendar-check"></i> Make Attendance
      </a>
      <a
        href="/admin/edit-user?token=<%= token %>"
        class="<%= currentPage && currentPage.toLowerCase() === 'edit-user' ? 'active' : '' %>"
        data-page="edit-user"
        aria-current="<%= currentPage && currentPage.toLowerCase() === 'edit-user' ? 'page' : 'false' %>"
      >
        <i class="fas fa-user-edit"></i> Edit User
      </a>
      <a
        href="/admin/upload-documents?token=<%= token %>"
        class="<%= currentPage && currentPage.toLowerCase() === 'upload-documents' ? 'active' : '' %>"
        data-page="upload-documents"
        aria-current="<%= currentPage && currentPage.toLowerCase() === 'upload-documents' ? 'page' : 'false' %>"
      >
        <i class="fas fa-file-upload"></i> Upload Documents
      </a>
      <a
        href="/admin/assign-teachers?token=<%= token %>"
        class="<%= currentPage && currentPage.toLowerCase() === 'assign-teachers' ? 'active' : '' %>"
        data-page="assign-teachers"
        aria-current="<%= currentPage && currentPage.toLowerCase() === 'assign-teachers' ? 'page' : 'false' %>"
      >
        <i class="fas fa-chalkboard-teacher"></i> Assign Teachers
      </a>
      <a href="/" data-page="logout" aria-current="false">
        <i class="fas fa-sign-out-alt"></i> Logout
      </a>
    </div>
  </div>

  <style>
    :root {
      --primary-blue: #3b82f6;
      --primary-purple: #8b5cf6;
    }

    .text-flow {
      color: white;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    }

    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      width: 250px;
      height: 100%;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-right: 1px solid rgba(255, 255, 255, 0.2);
      padding: 2rem 1rem;
      z-index: 1000;
      transition: transform 0.3s ease;
    }

    .sidebar.hidden {
      transform: translateX(-100%);
    }

    @media (max-width: 768px) {
      .sidebar {
        transform: translateX(-100%);
      }
      .sidebar.active {
        transform: translateX(0);
      }
    }

    .sidebar-nav a {
      display: flex;
      align-items: center;
      padding: 0.75rem 1rem;
      color: white;
      text-decoration: none;
      border-radius: 10px;
      margin-bottom: 0.5rem;
      transition: all 0.3s ease;
      font-size: 1rem;
      font-weight: 500;
    }

    .sidebar-nav a:hover,
    .sidebar-nav a.active {
      background: linear-gradient(
        135deg,
        var(--primary-blue),
        var(--primary-purple)
      );
      transform: translateX(5px);
      color: white;
      font-weight: 600;
      box-shadow: 0 5px 15px rgba(59, 130, 246, 0.3);
    }

    .sidebar-nav a.active {
      border-left: 4px solid var(--primary-blue);
    }

    .sidebar-nav a i {
      margin-right: 0.75rem;
      font-size: 1.2rem;
    }
  </style>

  <!-- <script>
    // Ensure the correct sidebar link is highlighted on page load
    document.addEventListener("DOMContentLoaded", () => {
      const currentPath = window.location.pathname;
      const sidebarLinks = document.querySelectorAll(".sidebar-nav a");

      // Remove active class from all links
      sidebarLinks.forEach((link) => link.classList.remove("active"));

      // Map paths to page identifiers
      const pageMap = {
        "/admin": "admin",
        "/admin/college": "college",
        "/admin/create-user": "create-user",
        "/admin/make-attendance": "make-attendance",
        "/admin/edit-user": "edit-user",
        "/admin/upload-documents": "upload-documents",
        "/admin/assign-teachers": "assign-teachers",
      };

      // Find and highlight the matching link
      const currentPage = pageMap[currentPath];
      if (currentPage) {
        const activeLink = document.querySelector(
          `.sidebar-nav a[data-page="${currentPage}"]`
        );
        if (activeLink) {
          activeLink.classList.add("active");
          activeLink.setAttribute("aria-current", "page");
        }
      }

      // Handle sidebar toggle
      const sidebar = document.querySelector(".sidebar");
      const toggle = document.querySelector(".sidebar-toggle");
      if (toggle) {
        toggle.addEventListener("click", () => {
          sidebar.classList.toggle("active");
        });
      }
    });
  </script> -->
</div>
